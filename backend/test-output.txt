
> backend@1.0.0 test
> jest --coverage --detectOpenHandles

  console.log
    [dotenv@17.2.3] injecting env (35) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  override existing env vars with { override: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” encrypt with Dotenvx: https://dotenvx.com

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    âœ“ Redis client connected

      at EventEmitter.log (src/utils/redis.ts:17:11)

FAIL src/__tests__/receipts.test.ts
  â— Receipts API â€º GET /api/receipts â€º should return empty array for new user

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º GET /api/receipts â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º GET /api/receipts â€º should reject invalid token

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º GET /api/receipts/stats â€º should return initial stats for new user

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º GET /api/receipts/stats â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º POST /api/receipts/upload â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º POST /api/receipts/upload â€º should require image file

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º POST /api/receipts/upload â€º should validate file type

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º Receipt Limits and Validation â€º should enforce daily upload limit

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)

  â— Receipts API â€º Receipt Categories â€º should return receipts grouped by category in stats

    TypeError: Cannot read properties of undefined (reading 'id')

      33 |
      34 |     authToken = registerResponse.body.token;
    > 35 |     userId = registerResponse.body.user.id;
         |                                         ^
      36 |   });
      37 |
      38 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/receipts.test.ts:35:41)


  â— Test suite failed to run

    WHERE parameter "userId" has invalid "undefined" value

      38 |   afterAll(async () => {
      39 |     // Clean up test data
    > 40 |     await Receipt.destroy({ where: { userId } });
         |     ^
      41 |     await User.destroy({ where: { email: testUser.email } });
      42 |   });
      43 |

      at PostgresQueryGenerator.whereItemQuery (node_modules/sequelize/src/dialects/abstract/query-generator.js:2451:13)
      at node_modules/sequelize/src/dialects/abstract/query-generator.js:2440:25
          at Array.forEach (<anonymous>)
      at PostgresQueryGenerator.whereItemsQuery (node_modules/sequelize/src/dialects/abstract/query-generator.js:2438:35)
      at PostgresQueryGenerator.getWhereConditions (node_modules/sequelize/src/dialects/abstract/query-generator.js:2866:19)
      at PostgresQueryGenerator.deleteQuery (node_modules/sequelize/src/dialects/postgres/query-generator.js:365:28)
      at PostgresQueryInterface.bulkDelete (node_modules/sequelize/src/dialects/abstract/query-interface.js:993:27)
      at Receipt.destroy (node_modules/sequelize/src/model.js:3083:42)
      at Object.<anonymous> (src/__tests__/receipts.test.ts:40:5)

  console.log
    [dotenv@17.2.3] injecting env (35) from .env -- tip: ðŸ”‘ add access controls to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ“¡ add observability to secrets: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âœ… audit secrets and track compliance: https://dotenvx.com/ops

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: ðŸ” prevent building .env in docker: https://dotenvx.com/prebuild

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    âœ“ Redis client connected

      at EventEmitter.log (src/utils/redis.ts:17:11)

FAIL src/__tests__/auth.test.ts
  Authentication API
    POST /api/auth/register
      âœ• should register a new user successfully (5 ms)
      âœ• should reject registration with existing email (4 ms)
      âœ“ should reject registration with invalid email (8 ms)
      âœ“ should reject registration with short password (4 ms)
      âœ“ should reject registration with missing fields (3 ms)
    POST /api/auth/login
      âœ• should login successfully with correct credentials (3 ms)
      âœ• should reject login with incorrect password (3 ms)
      âœ• should reject login with non-existent email (3 ms)
      âœ• should reject login with missing credentials (3 ms)
    Token Validation
      âœ• should return valid token after login
      âœ• token should contain valid JWT format

  â— Authentication API â€º POST /api/auth/register â€º should register a new user successfully

    expected 201 "Created", got 400 "Bad Request"

      30 |         .post('/api/auth/register')
      31 |         .send(testUser)
    > 32 |         .expect(201);
         |          ^
      33 |
      34 |       expect(response.body).toHaveProperty('token');
      35 |       expect(response.body.user).toHaveProperty('email', testUser.email);

      at Object.<anonymous> (src/__tests__/auth.test.ts:32:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  â— Authentication API â€º POST /api/auth/register â€º should reject registration with existing email

    expect(received).toContain(expected) // indexOf

    Expected substring: "already exists"
    Received string:    "\"name\" is not allowed"

      45 |
      46 |       expect(response.body).toHaveProperty('error');
    > 47 |       expect(response.body.error).toContain('already exists');
         |                                   ^
      48 |     });
      49 |
      50 |     it('should reject registration with invalid email', async () => {

      at Object.<anonymous> (src/__tests__/auth.test.ts:47:35)

  â— Authentication API â€º POST /api/auth/login â€º should login successfully with correct credentials

    expected 200 "OK", got 429 "Too Many Requests"

      94 |           password: testUser.password,
      95 |         })
    > 96 |         .expect(200);
         |          ^
      97 |
      98 |       expect(response.body).toHaveProperty('token');
      99 |       expect(response.body.user).toHaveProperty('email', testUser.email);

      at Object.<anonymous> (src/__tests__/auth.test.ts:96:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  â— Authentication API â€º POST /api/auth/login â€º should reject login with incorrect password

    expected 401 "Unauthorized", got 429 "Too Many Requests"

      108 |           password: 'wrongpassword',
      109 |         })
    > 110 |         .expect(401);
          |          ^
      111 |
      112 |       expect(response.body).toHaveProperty('error');
      113 |       expect(response.body.error).toContain('Invalid credentials');

      at Object.<anonymous> (src/__tests__/auth.test.ts:110:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  â— Authentication API â€º POST /api/auth/login â€º should reject login with non-existent email

    expected 401 "Unauthorized", got 429 "Too Many Requests"

      121 |           password: 'password123',
      122 |         })
    > 123 |         .expect(401);
          |          ^
      124 |
      125 |       expect(response.body).toHaveProperty('error');
      126 |     });

      at Object.<anonymous> (src/__tests__/auth.test.ts:123:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  â— Authentication API â€º POST /api/auth/login â€º should reject login with missing credentials

    expected 400 "Bad Request", got 429 "Too Many Requests"

      132 |           email: testUser.email,
      133 |         })
    > 134 |         .expect(400);
          |          ^
      135 |
      136 |       expect(response.body).toHaveProperty('error');
      137 |     });

      at Object.<anonymous> (src/__tests__/auth.test.ts:134:10)
      ----
      at Test._assertStatus (node_modules/supertest/lib/test.js:309:14)
      at node_modules/supertest/lib/test.js:365:13
      at Test._assertFunction (node_modules/supertest/lib/test.js:342:13)
      at Test.assert (node_modules/supertest/lib/test.js:195:23)
      at localAssert (node_modules/supertest/lib/test.js:138:14)
      at Server.<anonymous> (node_modules/supertest/lib/test.js:152:11)

  â— Authentication API â€º Token Validation â€º should return valid token after login

    expect(received).toBeDefined()

    Received: undefined

      153 |
      154 |     it('should return valid token after login', () => {
    > 155 |       expect(authToken).toBeDefined();
          |                         ^
      156 |       expect(typeof authToken).toBe('string');
      157 |       expect(authToken.length).toBeGreaterThan(0);
      158 |     });

      at Object.<anonymous> (src/__tests__/auth.test.ts:155:25)

  â— Authentication API â€º Token Validation â€º token should contain valid JWT format

    TypeError: Cannot read properties of undefined (reading 'split')

      159 |
      160 |     it('token should contain valid JWT format', () => {
    > 161 |       const parts = authToken.split('.');
          |                               ^
      162 |       expect(parts.length).toBe(3);
      163 |     });
      164 |   });

      at Object.<anonymous> (src/__tests__/auth.test.ts:161:31)

  console.log
    [dotenv@17.2.3] injecting env (35) from .env -- tip: âš™ï¸  suppress all logs with { quiet: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  write to custom object with { processEnv: myObject }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    [dotenv@17.2.3] injecting env (0) from .env -- tip: âš™ï¸  enable debug logging with { debug: true }

      at _log (node_modules/dotenv/lib/main.js:142:11)

  console.log
    âœ“ Redis client connected

      at EventEmitter.log (src/utils/redis.ts:17:11)

FAIL src/__tests__/withdrawals.test.ts
  â— Withdrawals API â€º GET /api/withdrawals â€º should return empty array for new user

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º GET /api/withdrawals â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should reject withdrawal below minimum amount

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should reject withdrawal with insufficient balance

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should require valid payment email

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should require payment method

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º POST /api/withdrawals/request â€º should validate payment method type

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º Withdrawal Validation â€º should validate amount is a number

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º Withdrawal Validation â€º should validate amount is positive

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º Withdrawal Validation â€º should accept valid paypal method

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º Withdrawal Validation â€º should accept valid venmo method

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º GET /api/withdrawals/stats/summary â€º should return withdrawal statistics

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)

  â— Withdrawals API â€º GET /api/withdrawals/stats/summary â€º should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

      31 |
      32 |     authToken = registerResponse.body.token;
    > 33 |     userId = registerResponse.body.user.id;
         |                                         ^
      34 |   });
      35 |
      36 |   afterAll(async () => {

      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:33:41)


  â— Test suite failed to run

    WHERE parameter "userId" has invalid "undefined" value

      36 |   afterAll(async () => {
      37 |     // Clean up test data
    > 38 |     await Withdrawal.destroy({ where: { userId } });
         |     ^
      39 |     await User.destroy({ where: { email: testUser.email } });
      40 |   });
      41 |

      at PostgresQueryGenerator.whereItemQuery (node_modules/sequelize/src/dialects/abstract/query-generator.js:2451:13)
      at node_modules/sequelize/src/dialects/abstract/query-generator.js:2440:25
          at Array.forEach (<anonymous>)
      at PostgresQueryGenerator.whereItemsQuery (node_modules/sequelize/src/dialects/abstract/query-generator.js:2438:35)
      at PostgresQueryGenerator.getWhereConditions (node_modules/sequelize/src/dialects/abstract/query-generator.js:2866:19)
      at PostgresQueryGenerator.deleteQuery (node_modules/sequelize/src/dialects/postgres/query-generator.js:365:28)
      at PostgresQueryInterface.bulkDelete (node_modules/sequelize/src/dialects/abstract/query-interface.js:993:27)
      at Withdrawal.destroy (node_modules/sequelize/src/model.js:3083:42)
      at Object.<anonymous> (src/__tests__/withdrawals.test.ts:38:5)

---------------------------|---------|----------|---------|---------|----------------------------------------
File                       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                      
---------------------------|---------|----------|---------|---------|----------------------------------------
All files                  |   17.44 |     5.25 |    1.98 |   15.57 |                                        
 adapters                  |       0 |        0 |       0 |       0 |                                        
  AdapterFactory.ts        |       0 |        0 |       0 |       0 | 2-58                                   
  FitbitAdapter.ts         |       0 |        0 |       0 |       0 | 1-153                                  
  GoogleCalendarAdapter.ts |       0 |        0 |       0 |       0 | 1-166                                  
  NotionAdapter.ts         |       0 |        0 |       0 |       0 | 1-174                                  
  PlaidAdapter.ts          |       0 |        0 |       0 |       0 | 1-145                                  
  SpotifyAdapter.ts        |       0 |        0 |       0 |       0 | 1-109                                  
 auth                      |       0 |        0 |       0 |       0 |                                        
  OAuthManager.ts          |       0 |        0 |       0 |       0 | 1-273                                  
 middleware                |    30.3 |     7.69 |   14.28 |    25.8 |                                        
  auth.ts                  |   21.21 |        0 |       0 |   13.33 | 16-30,38-51,63-75                      
  rateLimiter.ts           |   36.36 |       20 |      50 |   33.33 | 33-59                                  
  upload.ts                |   45.45 |        0 |       0 |   45.45 | 9-16                                   
 models                    |   85.26 |        0 |       0 |   83.52 |                                        
  AuditLog.ts              |     100 |      100 |     100 |     100 |                                        
  Badge.ts                 |     100 |      100 |     100 |     100 |                                        
  Company.ts               |     100 |      100 |     100 |     100 |                                        
  ConnectedService.ts      |     100 |      100 |     100 |     100 |                                        
  DailyChallenge.ts        |     100 |      100 |     100 |     100 |                                        
  DataAccessPermission.ts  |     100 |      100 |     100 |     100 |                                        
  Receipt.ts               |     100 |      100 |     100 |     100 |                                        
  Transaction.ts           |     100 |      100 |     100 |     100 |                                        
  User.ts                  |     100 |      100 |     100 |     100 |                                        
  Withdrawal.ts            |     100 |      100 |     100 |     100 |                                        
  index.ts                 |   74.54 |        0 |       0 |   68.88 | 115-129                                
 routes                    |    7.79 |     0.48 |    2.77 |    7.83 |                                        
  auth.ts                  |    30.5 |     6.25 |   33.33 |    30.5 | 36-75,84-127,136-156                   
  data.ts                  |       0 |        0 |       0 |       0 | 1-174                                  
  marketplace.ts           |       0 |        0 |       0 |       0 | 1-339                                  
  oauth.ts                 |       0 |        0 |       0 |       0 | 1-194                                  
  receipts.ts              |   10.63 |        0 |       0 |   10.86 | 27-217,223-238,244-289,295-309,315-354 
  sync.ts                  |       0 |        0 |       0 |       0 | 1-74                                   
  withdrawals.ts           |      12 |        0 |       0 |      12 | 19-153,159-189,195-214,220-254,260-291 
 sync                      |       0 |        0 |       0 |       0 |                                        
  SyncWorker.ts            |       0 |        0 |       0 |       0 | 1-241                                  
 utils                     |   28.81 |    14.44 |    3.44 |   24.41 |                                        
  database.ts              |   58.33 |       50 |       0 |   54.54 | 18-23                                  
  encryption.ts            |   48.27 |       50 |       0 |      40 | 22-30,43-54,61-62,72-73                
  fraudDetection.ts        |   11.95 |        0 |       0 |    8.23 | 21-142,154-163,171-186,194-218         
  imageStorage.ts          |   30.43 |    71.42 |       0 |      25 | 25-52,61-71,81-102,112-126             
  jwt.ts                   |    64.7 |       50 |       0 |   57.14 | 21-24,33-36,46                         
  ocr.ts                   |   13.33 |     2.35 |       0 |   12.82 | 27-152,159-173                         
  paypal.ts                |   33.33 |    29.16 |       0 |   27.27 | 35-84,95-113,124-125                   
  redis.ts                 |   72.72 |       50 |   33.33 |   72.72 | 10-11,21                               
---------------------------|---------|----------|---------|---------|----------------------------------------
Test Suites: 3 failed, 3 total
Tests:       32 failed, 3 passed, 35 total
Snapshots:   0 total
Time:        9.575 s
Ran all test suites.
